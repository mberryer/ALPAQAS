# ALPAQAS
CellProfiler scripts for quantification of synaptic parameters

•	What is ALPAQAS?
ALPAQAS stands for Automated Layered Profiling And Quantitative Analysis of Synaptogenesis. 

•	How does ALPAQAS work?
ALPAQAS requires the open-source CellProfiler software (www.cellprofiler.org) in Windows or Mac operating systems.

•	What is the goal of ALPAQAS?
ALPAQAS quantifies synaptic parameters such as the area and the number of synaptic puncta, the area of neurites and neuronal nuclei and exports them to a *.csv file.

•	How to run ALPAQAS?
1 – Download CellProfiler 3.1.5 software (https://cellprofiler.org/previous-releases)
2 – Download ImageExamples folder, MaximumProjection and ALPAQAS pipelines 
3 – Open CellProfiler
4 – Import MaximumProjection pipeline (MaximumProjection.cppipe) to CellProfiler
	File/Import/Pipeline from File…
5 – Import provided example images (ImageExamples) in the “Drop files and folder” window
	File/Import/File List…
6 – Press View output settings
4 – Define input path root (the input path should be the path towards the downloaded ImageExamples folder, in this case) and create a first output folder 
5 – Press Analyze Images
6 – Maximum projection images (*.tiff) will be displayed in your first output folder.

The output files generated by the MaximumProjection pipeline are the input files for ALPAQAS pipeline.

7 – Import ALPAQAS pipeline (ALPAQAS.cppipe) in CellProfiler
8 – Import maximum projection images from the previous pipeline (in your first output folder) to the “Drop files and folder” window
9 – Press View output settings
10 – Define input path root (the input path should be the path towards maximum projection images from the previous pipeline, your first output folder) and create a second output folder 
11 – Press Analyze Images
12 – In your second output folder, ALPAQAS will generate overlay images (*.tiff), as well as a *csv file reporting at a field-level, the number of DAPI positive nuclei (DAPI_PositiveNuclei), the area occupied by MAP2 positive neurites (MAP2PositiveNeurites), the area occupied by and the number of all SYNAPSIN1 puncta (SYNAPSIN1AllPuncta), the area occupied by and the number of SYNAPSIN1 puncta co-localized on MAP2 positive neurites (SYNAPSIN1PunctaOnMap2PositiveNeurites) with their relative metadata (PlateNumber, myCol, myField and myRow).

•	Nota bene: 
Example images were acquired with the high throughput microscope Opera Phenix (PerkinElmer): 60 wells.96-well-1 plate, 12 fields.well-1, 5-8 stacks.fields-1, 3 channels.stack-1 which equal a total of 10,800-17,280 raw images.96-well.plate-1. With additional files produced from the high throughput microscope software (<120kB), the size of the raw data per plate is 35GB. Once processed through the first CellProfiler pipeline, the size of the maximum projection images is 5GB.plate-1. Additionally, ALPAQAS produces *csv files as well as the CellProfiler image outputs for another 5GB.plate-1. The total size of data per plate is approximatively 45GB. We strongly recommend storing at least the raw images on a server or external hard drive. 

Typically, to generate the *.csv file from the raw images, the first CellProfiler pipeline requires approximately 60-90 minutes.plate-1 and ALPAQAS 90-120 minutes.plate-1 using a 8-core processor with 16GB memory. 
